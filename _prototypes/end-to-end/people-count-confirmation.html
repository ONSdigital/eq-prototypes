---
title: Census Household questionnaire (English)
project: Census 2021 End to end prototype
globalcss: false
layout: eq-default-extras
footer: census-transactional
assetPrefixUrl: https://sdc-global-design-patterns.netlify.com
noONSLogoLink: true
---

<link rel="stylesheet" href="../style.css"/>
<div class="page__subheader">
    <div class="container">
        <a class="back-link js-previous-link"
           href="../does-anyone-else-live-here">Previous</a>
    </div>
</div>

<div class="page__container container">
    <div class="grid grid--reverse">
        <div class="grid__col col-4@m"></div>
        <div class="grid__col col-8@m">
            <main role="main" id="main" class="page__main u-mt-m@m">
                <div class="feedback__inline js-feedback-inline is-collapsed">
                    <div class="feedback__border">
                    </div>
                </div>
                <div class="panel panel--error u-mb-m js-error-box u-d-no">
                    <div class="panel__header">
                        <div class="panel__title u-fs-r--b">There 
                        <span class="js-piping">is a {x} problem{s}</span> with your answer
                      </div>
                    </div>
                    <div class="panel__body">
                        
                        <ol class="list list--bare">
                        <li class="list__item js-yes u-d-no">
                            1. <a href="#error-message-yes" class="list__link js-inpagelink">
                                Select an answer
                            </a>
                        </li>
                        </ol>
                    </div>
                </div>
                <form name="trav" class="form qa-questionnaire-form" role="form"
                      autocomplete="new-password" novalidate="">
                    <input autocomplete="new-password" type="hidden" name="away-journeys"
                           value=""/>
                    <div class="group">
                        <div class="block">
                            <section class="section">
                                <div class="question u-mb-s"
                                     id="total-retail-turnover-question">
                                    <h1 class="question__title u-fs-xl js-heading">
                                        <span class="js-heading-inner-part1"></span>
                                    </h1>
                                </div>

                                <ul data-redirect="../people-count-confirmation/"
                                    class="list list--records list--people u-mb-s js-records js-household-members-summary"></ul>

                                <div class="panel panel--simple panel--info u-mb-s">
                                    <div class="panel__body">
                                        <strong class="u-mb-xs u-d-b">Remember to include people who are
                                        </strong>
                                        <strong class="u-mb-xs u-mt-m u-d-b">Temporarily away</strong>
                                        <ul>
                                            <li>people who work away from home within the UK if this is their permanent or family home</li>
                                            <li>members of the armed forces if this is their permanent or family home</li>
                                            <li>people who are temporarily outside the UK for <strong>less than 12 months</strong></li>
                                            <li>people staying, or expecting to stay, in an establishment such as a hospital, care home or hostel for <strong>less than 6 months</strong></li>
                                            <li>other people who usually live here but are temporarily away from home</li>
                                        </ul>
                                        <strong class="u-mb-xs u-mt-m u-d-b">Temporarily staying
                                        </strong>
                                        <ul>
                                            <li>people staying temporarily who usually live in the UK but do not have another UK address, for example, relatives, friends</li>
                                            <li>people who usually live outside the UK who are staying in the UK for <strong>3 months or more</strong></li>
                                        </ul>
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>

                    <div class="answer__fields js-fields u-mt-m question__answer" id="radios">
                        <div class="field field--radio field--multiplechoice">
                            <fieldset class="u-mb-m">
                                <div class="field__item js-focusable-box">
                                    <input required autocomplete="new-password" class="input input--radio js-focusable"
                                           type="radio"
                                           name="away-type"
                                           id="yes"
                                           data-error-msg="Select an answer">
                                    <label class="label label--inline"
                                           for="yes">
                                        Yes, I need to add someone
                                    </label>
                                </div>

                                <div class="field__item js-focusable-box">
                                    <input autocomplete="new-password" class="input input--radio js-focusable"
                                           type="radio"
                                           name="away-type"
                                           id="no">
                                    <label class="js-number-of-people-answer label label--inline"
                                           for="no">
                                        No, 
                                    </label>
                                </div>
                            </fieldset>
                        </div>
                    </div>

                    <div class="collapsible collapsible--simple js-collapsible js-collapsible-simple">
                        <div class="js-collapsible-content">
                            <h3 class="collapsible__title js-collapsible-title icon--collapsible-simple u-fs-r--b" data-ga="click" data-ga-category="definition" data-ga-action="Open panel" data-ga-label="Why we ask this question">Why we ask this question</h3>
                            <div class="collapsible__body js-collapsible-body">
                                <p>We ask this question to ensure that everyone is correctly counted in the census. This includes people who are staying temporarily or are away.</p>
                                <p>The information is vital for planning services, whether it is for hospital beds, school places, GP and dental services or where to build houses and roads.</p>
                                <button class="btn btn--secondary btn--small js-collapsible-close u-no-js-hide" data-ga="click" data-ga-category="definition" data-ga-action="Close panel" data-ga-label="Why we ask this question">Hide this</button>
                            </div>
                        </div>
                    </div>

                    <button class="btn btn-submit btn--primary btn--lg qa-btn-submit u-mt-l"
                            type="submit" name="">Save and continue
                    </button>
                </form>
            </main>
        </div>
    </div>
</div>

<script src='/js/compiled/end-to-end/bundle.js'></script>

<ul style="display:none;">
    <li id="question-list-item-template"
        class="list__item js-list-item-label"></li>
</ul>

<script>
  var storageAPI = window.ONS.storage,
    urlParams = new URLSearchParams(window.location.search),
    members = storageAPI.getAllHouseholdMembers().filter(storageAPI.isHouseholdMember),
    yesbox = document.getElementById("yes"),
    hasErrors = false,
    grouped = {
      away: [
        storageAPI.tempAwayQuestionSentenceMap['perm-away'],
        storageAPI.tempAwayQuestionSentenceMap['armed-forces'],
        storageAPI.tempAwayQuestionSentenceMap['less-twelve'],
        storageAPI.tempAwayQuestionSentenceMap['other']
      ],
      in: [
        storageAPI.tempAwayQuestionSentenceMap['usually-temp'],
        storageAPI.tempAwayQuestionSentenceMap['three-more'],
      ]
    };

  sessionStorage.setItem("wlh_bookmark" , window.location.pathname);

  $('.qa-btn-submit').on('click', function(e) {
    e.preventDefault();
    const testFails = ($('input[type=radio]:checked').size() === 0);
    window.ONS.utils.validateInputs(testFails, "input[type=radio]");
    if (hasErrors) {
        window.ONS.utils.calcErrors();
        hasErrors = false;
            return false;
    } else {
      window.location = yesbox.checked
        ? '../adding-another-person/'
        : '../visitors/';
        storageAPI.storePageData('/end-to-end/adding-another-person/', window.location.pathname);
    }
  });

  function createIncludeItem(text) {
    var $nodeEl = $('#question-list-item-template').clone(),
      $label = $nodeEl;

    $nodeEl.attr('id', '');
    $label.html(text);

    return $nodeEl;
  }

  function getNumberInHousehold() {
    var members = storageAPI.getAllHouseholdMembers()
    var householdMembers = members.filter(storageAPI.isHouseholdMember)

    return householdMembers;
  };

  function updateQuestionList() {
    $('#question-list-away').html(grouped.away.map(createIncludeItem));
    $('#question-list-in').html(grouped.in.map(createIncludeItem));
  }

  function personWording(numberOfPeople, type) {
    if (window.ONS.utils.numberToWordsStyleguide(numberOfPeople)) {
      var numberOfPeople = getNumberInHousehold().length
      var questionPersonWordingText = '<em class="highlight">' + numberOfPeople + "</em> people live"
      var answerPersonWordingText = window.ONS.utils.numberToWordsStyleguide(numberOfPeople) + " people live"
      if (numberOfPeople == 1) {
        questionPersonWordingText = '<em class="highlight">1</em> person lives'
        answerPersonWordingText = "one person lives"
      } 
    } else {
        questionPersonWordingText = "<em class=”highlight”>0</em> people live"
        answerPersonWordingText = "0 people live"
    }
    if (type == "question") {
      return questionPersonWordingText
    } else {
      return answerPersonWordingText
    }
  }

  function updateQuestion () {
    var numberOfPeople = getNumberInHousehold().length
    $('.js-heading-inner-part1').html(
      'You said ' + personWording(numberOfPeople, "question") +' at ' + storageAPI.getPipedAddress() + '. Do you need to add anyone?'
    );
  }

  function updateAnswer(householdMembers) {
    var numberOfPeople = getNumberInHousehold().length
    if (numberOfPeople == 1) {
      $('.js-number-of-people-answer').html(
        'No, there is 1 person living here'
      );
    } else {
      $('.js-number-of-people-answer').html(
        'No, there are ' + numberOfPeople + ' people living here'
      );
    }
  }

  $(updateQuestionList);
  $(updateQuestion);
  $(updateAnswer);
  
</script>
