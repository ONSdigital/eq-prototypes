---
title: Household questionnaire (English)
project: Census 2021 End to end prototype
globalcss: false
layout: eq-default-extras
footer: census-transactional
assetPrefixUrl: https://sdc-global-design-patterns.netlify.com
exit: true
leaveWarning: true
---

<style type="text/css">
</style>

<link rel="stylesheet" href="../../end-to-end/style.css"/>
<div class="page__subheader">
    <div class="container">
    </div>
</div>

<div class="page__container container">
    <div class="grid grid--reverse">
        <div class="grid__col col-4@m">
        </div>
        <div class="grid__col col-8@m">
            <main role="main" id="main" class="page__main">
                <div class="panel panel--simple panel--success u-mb-m u-pl-l">    
                    <div class="panel__body">
                        <div class="panel__icon u-f-l" style="margin-left:-2rem;">
                            <span class="icon icon--tick"></span>
                        </div>
                        <h1 class="u-mb-xs u-fs-l js-piping">
                            A confirmation email has been sent to {x}
                        </h1>
                    </div>
                </div>
                <div class="js-resend-confirmation">
                    <h2 class="u-fs-r--b u-mb-xs">Didn&rsquo;t receive an email?</h2>
                    <p class="u-mb-no">It can take a few minutes for the email to arrive. If it doesn&rsquo;t arrive, check your junk mail, or you can <a class="js-resend-confirmation" href="../complete--confirmation-resend">send another confirmation email</a>.</p>
                </div>
                {% include_relative partials/feedback.html %}
            </main>
        </div>
    </div>
</div>

<script src='/js/compiled/end-to-end-covid/bundle.js'></script>

<script>
    var searchParams = new URLSearchParams(window.location.search);
    var emailAddress = searchParams.get('email');
    var pipingDestinations = Array.from(document.querySelectorAll('.js-piping'));
    var confirmationCounter = sessionStorage.getItem('confirmationCounter');


    if (confirmationCounter) { 
        var confirmationCounter = parseInt(confirmationCounter) + 1;
        sessionStorage.setItem('confirmationCounter', confirmationCounter);
    } else { 
        var confirmationCounter = 1;
        sessionStorage.setItem('confirmationCounter', confirmationCounter);
    }
    if (confirmationCounter > 9) { 
        $('.js-resend-confirmation').hide();
        $('.js-max-sent').show();
    }

    pipingDestinations.forEach(function(pipingDestination) {
        pipingDestination.innerHTML = pipingDestination.innerHTML.replace('{x}', emailAddress);
    });

    $('.exit').on('click', function (e) {
        e.preventDefault();
        window.location.href = '../home/';
        sessionStorage.clear();
    });

</script>