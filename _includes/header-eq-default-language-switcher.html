<style>
    .language-switcher {
        display: -ms-inline-flexbox;
        display: inline-flex;
        -ms-flex-direction: column;
        flex-direction: column;
        max-height: 36px
    }

    .language-switcher__button {
        position: relative;
        padding: 9px;
        padding: .5rem;
        min-width: 144px;
        min-width: 8rem;
        min-height: 36px;
        border: 1px solid #999;
        border-radius: 3px;
        background: transparent;
        font-family: inherit;
        line-height: 1;
        text-align: left;
        transition: border-color .2s ease-in-out
    }

    .language-switcher__button:focus {
        outline: 3px solid #fe781f;
        outline-offset: 3px
    }

    .language-switcher__button:after {
        content: "";
        display: block;
        position: absolute;
        top: 50%;
        right: 9px;
        right: .5rem;
        transform: translateY(-50%);
        width: 15px;
        height: 15px;
        background-position: 50%;
        background-image: url(../assets/img/icons--chevron-down.svg);
        background-size: 15px;
        background-repeat: no-repeat
    }

    .language-switcher__button:focus, .language-switcher__button:hover {
        border-color: #033e58
    }

    .language-switcher--open .language-switcher__button {
        border-bottom-left-radius: 0;
        border-bottom-right-radius: 0;
        border-color: #033e58
    }

    .language-switcher--open .language-switcher__button:after {
        transform: translateY(-50%) rotate(180deg)
    }

    .language-switcher__items {
        z-index: 4;
        position: relative;
        padding: 0;
        list-style: none;
        border: 1px solid #033e58;
        border-top: 0;
        border-bottom-left-radius: 3px;
        border-bottom-right-radius: 3px;
        background: #fff;
        opacity: 0;
        pointer-events: none
    }

    .language-switcher--open .language-switcher__items {
        opacity: 1;
        pointer-events: auto
    }

    .language-switcher__item {
        margin: 0
    }

    .language-switcher__item:not(:last-child) {
        border-bottom: 1px solid #033e58
    }

    .language-switcher__language {
        display: block;
        padding: 9px;
        padding: .5rem
    }

    .language-links {
        margin: 0;
        padding: 0;
        list-style: none
    }

    .language-links__item {
        display: inline-block;
        margin: 0 0 0 9px;
        margin: 0 0 0 .5rem;
        *display: inline;
        *zoom: 1
    }
</style>

<header class="header">
    <div class="header__top" role="banner">
        <div class="container">
            <div class="grid grid--gutterless">
                <div class="grid__col col-6@s">
                    <div class="logo">
                        <img src="https://deploy-preview-129--sdc-global-design-patterns.netlify.com/assets/img/ons-logo-black-en.svg" alt="Office for National Statistics logo" class="logo__img header__logo--print">
                        <a href="{{ site.baseurl }}/">
                            <img src="https://deploy-preview-129--sdc-global-design-patterns.netlify.com/assets/img/ons-logo-pos.svg" alt="Office for National Statistics logo" class="logo__img header__logo print__hidden">
                        </a>
                    </div>
                </div>
                <div class="grid__col col-6@s">
                    <ul id="language-links"
                        class="language-links u-d-no@xs@m u-fr">
                        <li class="language-links__item">
                            <a class="js-language-switcher-item" href="#"
                               lang="en" data-language-item="english">English</a>
                        </li>
                        <li class="language-links__item">
                            <a class="js-language-switcher-item" href="#"
                               lang="cy" data-language-item="welsh">Cymraeg</a>
                        </li>
                        <li class="language-links__item">
                            <a class="js-language-switcher-item" href="#"
                               lang="pl" data-language-item="polish">Polskie</a>
                        </li>
                    </ul>

                    <div id="language-switcher"
                        style="display:none;"
                        class="language-switcher u-d-no@xs@s js-language-switcher u-fr" lang="en-GB">

                        <a class="js-language-switcher-link" href="#">Choose language</a>
                        <button type="button" class="u-d-no language-switcher__button js-language-switcher-button" aria-label="Language selector. Current language: English">English</button>
                        <ul id="language-switcher-items" class="u-d-no language-switcher__items js-language-switcher-items">
                            <li class="language-switcher__item">
                                <a href="#"
                                   class="language-switcher__language js-language-switcher-item" lang="en" tabindex="-1" data-language-item="english">English</a>
                            </li>
                            <li class="language-switcher__item">
                                <a href="#"
                                   class="language-switcher__language js-language-switcher-item" lang="cy" tabindex="-1" data-language-item="welsh">Cymraeg</a>
                            </li>
                            <li class="language-switcher__item">
                                <a href="#"
                                   class="language-switcher__language js-language-switcher-item" lang="pl" tabindex="-1" data-language-item="polish">Polskie</a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="header__main ">
        <div class="container">
            <div class="grid grid--gutterless grid--align-mid u-cf">
                <div class="grid__col ">
                    <h1 class="header__title header__title--nav-adj">
                        <span class="js-header-title">
                            {% if page.title %}
                                {{ page.title }}
                            {% else %}
                                {{ site.title }}
                            {% endif %}
                        </span>
                        <button class="btn btn--ghost u-fr">
                            {% if page.language == 'polish' %}
                            Zapisz i uzupełnij później
                            {% elsif page.language == 'welsh' %}
                            Cadw a chwblhau'n ddiweddarach
                            {% else %}
                            Save and complete later
                            {% endif %}</button>
                    </h1>
                </div>
            </div>
        </div>
    </div>
</header>


<script>
  $(function () {
    var language = "{% if page.language %}{{page.language}}{% else %}english{% endif %}",
      languageMap = {
        'english': {
          elId: 'english-item',
          label: 'English',
          fragment: '-en/'
        },
        'welsh': {
          elId: 'welsh-item',
          label: 'Cymraeg',
          fragment: '-cy/'
        },
        'polish': {
          elId: 'polish-item',
          label: 'Polskie',
          fragment: '-po/'
        }
      };

    var $scopeEl = $('.js-language-switcher');
    var $switcher = $scopeEl.find('.js-language-switcher-button');
    var listAnchorClass = 'js-language-switcher-item';
    var $listAnchors = $scopeEl.find('.' + listAnchorClass);
    var urlParams = new URLSearchParams(window.location.search),
      showLanguageSwitcher = urlParams.get('language-switcher');

    var $scopeLinksEl = $('.language-links');
    var listLinksAnchorClass = 'js-language-switcher-item';
    var $listLinksAnchorClass = $scopeLinksEl.find('.' + listLinksAnchorClass);

    $switcher.html(languageMap[language].label);

    $listAnchors.on('click', link_handler);
    $listLinksAnchorClass.on('click', link_handler);

    function link_handler(e) {
      e.preventDefault();

      var chosen = $(this).attr('data-language-item'),
        currentLanguageFragment = languageMap[language].fragment,
        chosenLanguageFragment = languageMap[chosen].fragment;

      var url = window.location.href.replace(currentLanguageFragment,
       chosenLanguageFragment);

      window.location.href = url;
    }

    if(showLanguageSwitcher) {
      $('#language-links').hide();
      $('#language-switcher').show();
    }
  });
</script>

<script src='/js/compiled/language-switcher/bundle.js'></script>
