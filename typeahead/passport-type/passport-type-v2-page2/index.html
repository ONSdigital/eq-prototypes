<!DOCTYPE html>
<html>
  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Passport questions v2</title>
  <meta name="description" content="  ">

  

  <link rel="stylesheet" href="/eq-prototypes/css/main.css">
  <link rel="stylesheet" href="/eq-prototypes/css/responsive.css">
  <link rel="canonical" href="http://onsdigital.github.io/eq-prototypes/typeahead/passport-type/passport-type-v2-page2/">
  <link rel="alternate" type="application/rss+xml" title="eQ Prototypes" href="http://onsdigital.github.io/eq-prototypes/feed.xml">
  <link rel='stylesheet prefetch' href='https://fonts.googleapis.com/css?family=Lato:300,400,600,700,900'>
  <link rel='stylesheet prefetch' href='https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css'>
  <script src="/eq-prototypes/js/jquery.min.js"></script>
  <script type="text/javascript">
    document.addEventListener("touchstart", function(){}, true);
  </script>
</head>

  <body>
    <div class="page">
      <div class="page__content">
        <div class="skip">
          <a class="skip__link" href="#main">Skip to content</a>
        </div>
        <!--[if lt IE 9]>
<script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
<![endif]-->
<!--[if gt IE 8]><!-->
  <script>document.documentElement.className = document.documentElement.className.replace('no-js','has-js')</script>
<!--<![endif]-->

<link rel="stylesheet" href="/eq-prototypes/css/census-header-footer.css">
<link href="../css/autocomplete.css" rel="stylesheet">
<link href="../css/typeahead.css" rel="stylesheet">
<link href="../css/passport-types.css" rel="stylesheet">

<header class="page__header">
  <div class="bar " role="banner">
  <div class="bar__inner container">
    <div class="badge badge--amber u-mr-xs">BETA</div>
    <div class="bar__title venus">Passport questions v2</div>
  </div>
</div>

  <header class="header header--census has-js">
	<div class="header__help is-closed js-help-body">		
		<div class="header__container container">		
			<div class="header__title ">Help and support –</div>		
				<ul class="header__nav nav nav--horizontal">		
					<li class="nav__item">		
	          <span class="mars" role="presentation">Call </span> <a class="venus nav__link" href="tel:03000683001"><span class="u-vh">For help call </span>0300 068 3001</a>		
	        </li>		
	        <li class="nav__item">		
	          <a class="venus nav__link external--white" href="http://www.ons.gov.uk/census/help" target="_blank" rel="noopener noreferrer">Online Help</a>		
	        </li>		
	      </ul>		
	    </div>		
	  </div>		
    <div class="header__container container">
      <div class="header__logo">
	      <img src="/eq-prototypes/s/img/census-logo.svg?q=afe0c3fc5f881be5a231a218296436c68cc7fa26" alt="2017 Census"" alt="2017 Census">
      </div>
    <button class="header__btn btn btn--light btn--border js-help-btn" data-ga-action="Help and support" data-ga="click" data-ga-category="Help">	
        Help and support
    </button>
  </div>
</header>
</header>

<div class="page">
    <div class="page__content">
        <div class="page__subheader">
            <div class="container">
                <a class="mars" href="../passport-type-v2-page1">Previous</a>
            </div>
        </div>
        <div class="page__container container">
            <div class="grid grid--reverse">
                <div class="grid__col col-4@m"></div>
                <div class="grid__col col-7@m pull-1@m">
                    <main role="main" id="main" class="page__main">
                        <form name="otherPassports" class="form qa-questionnaire-form" role="form" autocomplete="off">
                            <input id="csrf_token" name="csrf_token" type="hidden" value="ImUyNGQ4ZTliMTQxZDY4MGI3NzgyYjkyMjI4M2Y3ZWRmMGJlZmZjZWYi.DKKFlA.U3YKd3C5S0R9193pylUknvdyOTc">
                            <div class="group u-m-no" id="who-lives-here-relationship">
                                <div class="block" id="household-relationships">
                                    <p class="block__title neptune" data-qa="block-title"></p>
                                    <div class="question question--repeatinganswer" id="household-relationships-question">
                                        <h1 class="question__title saturn">What passports does <span class="highlight q1">Bob Smith</span> hold? </h1>
                                        <fieldset>
                                            <div class="question__answers">
                                                <div class="question__answer">
                                                    <!-- Default Dynamic Section -->
                                                    <div id="nothing-selected" class="dynamic-content">
                                                    </div>
                                                    <!-- Dynamic Section 1 -->
                                                    <div id="uk-selected" class="question__description mars dynamic-content">
                                                      <span><span class="highlight q1">United Kingdom</span> has already been selected.</span>
                                                    </div>
                                                    <!-- Dynamic Section 2 -->
                                                    <div id="ireland-selected" class="question__description mars dynamic-content">
                                                      <span><span class="highlight q1">Ireland</span> has already been selected.</span>
                                                    </div>
                                                    <!-- Dynamic Section 3 -->
                                                    <div id="uk-ireland-selected" class="question__description mars dynamic-content">
                                                      <span><span class="highlight q1">Ireland</span> and <span class="highlight q1">United Kingdom</span> have already been selected.</span>
                                                    </div>
                                                    <div class="question__description mars">
                                                      To add more than one passport add each one in turn.
                                                    </div>
                                                    <div class="answer">
                                                        <div class="answer__fields">
                                                            <div class="field field--select">
                                                                <label class="label venus">
                                                                    Start entering the country of the passport and select
                                                                </label>
                                                                <div class="js-typeahead-component typeahead-component">
                                                                    <input class="input input--text js-typeahead-input" placeholder=""type="text" />

                                                                    <div class="pac-container-wrapper">
                                                                        <div class="pac-container pac-logo hide"></div>
                                                                    </div>
                                                                </div>
                                                                <a href="javascript:removeAllPlayback()" class="mars btn btn--link hide js-address-start-again-trigger">Start again</a>
                                                                <div id="playback" class="playback playback--basic-toggle">
                                                                    <div class="playback__main" aria-hidden="true" id="">
                                                                        <div class="mars">
                                                                          <div id="passport-types-country-playback u-cf">
                                                                            <div class="playback u-mt-m">
                                                                              <h2 class="playback__title mars u-fw-b" id="playback-heading">All passports held by Bob Smith</h2>
                                                                              <div id="playback-container-preselected" class="playback__block"></div>
                                                                              <div id="playback-container" class="playback__block"></div>
                                                                            </div>
                                                                          </div>
                                                                        </div>
                                                                    </div>
                                                                </div>
                                                                <br />
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </fieldset>
                                    </div>
                                </div>
                            </div>
                            <button class="btn btn--primary btn--lg qa-btn-submit venus" type="submit" name="">Save and continue</button>
                            <div class="u-mb-m">
                                <button class="btn btn--link mars js-btn-save" type="submit" name="action[save_sign_out]" data-ga="click" data-ga-category="Navigation" data-ga-action="Save and complete later click">Save and complete later</button>
                            </div>
                        </form>
                        <a class="page__previous page__previous--bottom"  data-ga="click" data-ga-label="bottom" data-ga-category="Navigation" data-ga-action="Previous link click" href="../passport-type-v2-page1" id="bottom-previous">Previous</a>
                    </main>
                </div>
            </div>
        </div>
    </div>
    <footer class="page__footer">
        <footer class="footer2 page__footer2">
            <div class="footer2-nav container" role="contentinfo">
                <div class="grid container">
                    <div class>
                        <div class="grid__col col-4@m">
                            <div class="footer2-nav__heading">
                                <p class="venus"><strong>Legal information</strong></p>
                            </div>
                            <ul class="list footer__list">
                                <li class="footer2-nav__item">
                                    <a href="/cookies-privacy"
                                       class="footer2__link" target="_blank">Cookies and privacy</a>
                                </li>
                            </ul>
                        </div>
                        <div class="grid__col col-4@m">
                            <div class="footer2-nav__heading">
                                <p class="venus"><strong>About ONS</strong></p>
                            </div>
                            <ul class="list footer__list">
                                <li class="footer2-nav__item">
                                    <a href="https://www.ons.gov.uk/aboutus/whatwedo" target="_blank" class="footer2__link">What we do</a>
                                </li>
                                <li class="footer2-nav__item">
                                    <a href="/contact-us" target="_blank"
                                       class="footer2__link">Contact us</a>
                                </li>
                                <li class="footer2-nav__item">
                                    <a href="https://www.ons.gov.uk/help/accessibility" target="_blank"
                                       class="footer2__link">Accessibility</a>
                                </li>
                            </ul>
                        </div>

                        <div class="grid__col col-4@m">
                            <div class="footer2-nav__heading">
                                <p class="venus"><strong>Statistics</strong></p>
                            </div>
                            <ul class="list footer__list">
                                <li class="footer2-nav__item">
                                    <a href="https://www.statisticsauthority.gov.uk/about-the-authority/" target="_blank"
                                       class="footer2__link">UK Statistics Authority</a>
                                </li>
                                <li class="footer2-nav__item">
                                    <a href="https://www.ons.gov.uk/releasecalendar" target="_blank" class="footer2__link">Release calendar</a>
                                </li>
                                <li class="footer2-nav__item">
                                    <a class="footer2__link" href="https://www.ons.gov.uk/news" target="_blank">News</a>
                                </li>
                            </ul>
                            </br>
                        </div>
                        <div class="dl__data mars"><img src="/s/img/icons/ogl.svg?q=afe0c3fc5f881be5a231a218296436c68cc7fa26" class="ogl__img"/>
                            All content is available under the <a class="footer2__link" href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/" target="_blank">Open Government Licence v3.0</a>, except where otherwise stated
                        </div>
                    </div>
                </div>
            </div>
        </footer>
    </footer>
</div>
<div class="dialog js-dialog" id="dialog" aria-hidden="true" data-ga="visible" data-ga-category="Timeout" data-ga-action="Timeout window visible">
  <div class="dialog__overlay" tabindex="-1"></div>
    <div class="dialog__body" role="dialog" aria-labelledby="dialog-title">
      <div role="document">
        <div class="mars u-mb-s">2017 Census Test</div>
          <h1 class="saturn dialog__title" id="dialog-title" tabindex="0">Your session is about to expire</h1>
            <div class="time js-timeout">
              <svg class="time__visual" width="80px" height="80px" viewBox="0 0 80 80" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                <circle cx="40" cy="40" r="40" stroke="#D3D3D3" stroke-width="6" fill="none"></circle>
                <circle class="time__circle js-timeout-circle" cx="40" cy="40" r="40" transform="rotate(-90 40 40)" fill="none" stroke="red" stroke-width="6" stroke-linecap="round"></circle>
              </svg>
              <div class="time__text venus js-timeout-time">0:00</div>
            </div>
            <form class="" action="/" method="post">
              <button class="btn btn--primary btn--loader js-timeout-continue" type="button" data-loading-msg="Continuing&hellip;">Continue survey
              </button>
              <br/>
              <button class="btn btn--secondary btn--border js-timeout-save" type="submit">Save and sign out
              </button>
            </form>
        </div>
    </div>
</div>

<script src="//cdnjs.cloudflare.com/ajax/libs/underscore.js/1.8.3/underscore.js"></script>
<script src="//cdnjs.cloudflare.com/ajax/libs/modernizr/2.8.3/modernizr.js"></script>
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<script src="../js/Typeahead.js"></script>
<script src="../js/passport-types.js"></script>
<script>
    $(document).ready(function () {

    	var countriesPreSelected = [],
			passportTypesObj;

		// Check URL for parameters and dynamically change content
        // (for version2 of prototype to display eg. 'UK aleady selected')
		if (window.location.href.indexOf("?passport-type-opener-answer=United+Kingdom&passport-type-opener-answer=Ireland") > -1) {
			countriesPreSelected.push('GB', 'IE');
		}
		else if (window.location.href.indexOf("Ireland") > -1) {
			countriesPreSelected.push('IE');

		} else if (window.location.href.indexOf("United+Kingdom") > -1) {
			countriesPreSelected.push('GB');
		}

		/*passportTypesObj = passportTypes({
            countriesPreSelected: countriesSelected
		});*/

		passportTypesObj = passportTypes({
            ignoreCountries: countriesPreSelected
        });

		function resetPreselectedCountriesNotifications () {
			$("#uk-ireland-selected").hide();
			$("#ireland-selected").hide();
			$("#uk-selected").hide();
			$('#nothing-selected').hide();
        }

		/*passportTypesObj.emitter.on('items-changed', function (e, countriesSelected) {
			showHideNotification(countriesSelected.countryKeys);
        });*/

		passportTypesObj.emitter.on('data-loaded', function (e, data) {
			var $container = $('#playback-container-preselected');

			/**
             * Render a seperate list
			 */
			$.each(countriesPreSelected, function (key, val) {
				var dataItem = data.rawData[val],
                    name = dataItem.item[0].name,
					primaryTextNoSpaces = name.split(' ').join('-'),
					id = 'passport-types-playback-answer-' + primaryTextNoSpaces;

				$container.append('<div class="playback_item">' +
					'<div class="playback__answer-text u-dib"' +
					'id="' + id + '"' +
					'data-qa="' + id + '">' +
					'<ul class="u-pl-no u-mb-xs list--bare">' +
					'<li id="playback-value" class="playback-list-value">' + name + '</li>' +
					'</ul>' +
					'</div>' +
					'</div>');
            });
        });

		function showHideNotification (countryKeys) {
			var uk = countryKeys[countryKeys.indexOf('GB')],
				ireland = countryKeys[countryKeys.indexOf('IE')];

			if (uk && ireland) {
				resetPreselectedCountriesNotifications();
				$("#uk-ireland-selected").show();
			}
			else if (ireland) {
				resetPreselectedCountriesNotifications();
				$("#ireland-selected").show();
			}
			else if (uk) {
				resetPreselectedCountriesNotifications();
				$("#uk-selected").show();
			}
			else {
				resetPreselectedCountriesNotifications();
				$('#nothing-selected').show();
			}
        }

		showHideNotification(countriesPreSelected);
    });
</script>

<style>
    /* Patch */
    .page__content {
        overflow-x: visible;
    }

    .pac-container {
        width : 20.1rem;
    }

    @media only screen and (max-width: 500px) {
        .pac-container {
            width : auto;
        }
    }
</style>

<script>
  $('.qa-btn-submit').click(function(e) {
      document.otherPassports.action = "../end-page";
  });
</script>

      </div>
      <footer class="page__footer">
  <div class="footer page__footer" role="contentinfo">
    <div class="container">
      <div class="pluto">© <a class="footer__link" href="https://www.ons.gov.uk/" target="_blank">Office for National Statistics 2016</a></div>
    </div>
  </div>
</footer>

    </div>
    <!-- Uncomment for Loop 11 <script type="text/javascript">
      var loop11_key = "0104054b3b56d396b42e668dfe096cee161454a8";
      var l11_clientOptions = {"cookieDomain":".github.io"};
      document.write(unescape("%3cscript src='//cdn.loop11.com/my/loop11.js' type='text/javascript'%3e%3c/script%3e"));
    </script> -->
  </body>
</html>
